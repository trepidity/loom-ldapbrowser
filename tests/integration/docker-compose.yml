# OpenLDAP test server for integration testing.
# Usage: docker compose -f tests/integration/docker-compose.yml up -d
# Then run: cargo test --test ldap_integration -- --ignored
services:
  openldap:
    image: osixia/openldap:1.5.0
    ports:
      - "3389:389"
      - "3636:636"
    environment:
      LDAP_ORGANISATION: "Example Inc"
      LDAP_DOMAIN: "example.com"
      LDAP_BASE_DN: "dc=example,dc=com"
      LDAP_ADMIN_PASSWORD: "admin"
      LDAP_TLS_VERIFY_CLIENT: "never"
    volumes:
      - ../fixtures/sample.ldif:/container/service/slapd/assets/config/bootstrap/ldif/custom/50-sample.ldif
